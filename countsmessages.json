{"actionArr":[true,false],"channelMessage":"$eval\n\n// Initialize variables\nvar serverid \u003d \"$serverIcon\".split(\"/\")[4];\nvar messages \u003d (messages \u003d\u003d null) ? {} : messages;\nbotState.warns \u003d (botState.warns \u003d\u003d null) ? {} : botState.warns;\nvar reply \u003d \"\";\n\n// YOU CAN CHANGE THESE VARIABLES!\n\n// Flag as spam after X messages in 5 seconds\nvar spam_detect \u003d 4;\n\n// Initialize user warns\nif (botState.warns[$ID] \u003d\u003d null)\n{\n    botState.warns[$ID] \u003d {};\n    botState.warns[$ID][serverid] \u003d 0;\n}\n\nelse if (botState.warns[$ID][serverid] \u003d\u003d null) botState.warns[$ID][serverid] \u003d 0;\n\n// Add message to the message list\nif (messages[$ID] \u003d\u003d null || messages[$ID][serverid] \u003d\u003d null)\n{\n    messages[$ID] \u003d {};\n    messages[$ID][serverid] \u003d [Date.now()];\n}\n\nelse messages[$ID][serverid].push(Date.now());\n\nif (messages[$ID][serverid].length \u003d\u003d spam_detect)\n{\n    messages[$ID][serverid] \u003d [];\n    botState.warns[$ID][serverid] +\u003d 1;\n\n    reply \u003d \"⚠️ Don\u0027t spam, $name! Now you have \" + botState.warns[$ID][serverid].toString() + \" warn\" + ((botState.warns[$ID][serverid] \u003d\u003d 1) ? \"!\" : \"s!\");\n}\n\n$halt $get(reply)","command":"","commandDescription":"Counts messages.","deleteAfter":false,"deleteIf":false,"deleteIfStrings":"","deleteNum":0,"deleteX":false,"ignoreErrorMessages":true,"isAdmin":false,"isBan":false,"isKick":false,"isNSFW":false,"isReact":false,"isRequiredRole":false,"isRoleAssigner":false,"isSpecificChannel":false,"isSpecificMessage":false,"isVoiceMute":false,"phrase":true,"privateMessage":"","reaction":"","requiredRole":"","roleToAssign":"","sendChannelEmbed":false,"sendPrivateEmbed":false,"specificChannel":"","specificMessage":"","type":0}
